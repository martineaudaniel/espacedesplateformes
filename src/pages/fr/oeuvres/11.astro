---
// src/pages/works/artwork1.astro
import DefaultLayout from '../../../layouts/DefaultLayout.astro'
import { Pagination } from 'accessible-astro-components'
import PhotoSwipeGallery from '../../../components/PhotoSwipeGallery.astro'

// Get current page number from the filename (e.g., "1" for 1.astro)
const currentPage = parseInt(Astro.params.pageNumber || '11', 10)
const totalPages = 13 // Set this to the total number of pages you have
const galleryColumns = 2

// Pagination URLs
const basePath = import.meta.env.BASE_URL // Dynamically retrieve the base path

const firstPage = currentPage > 1 ? `${basePath}fr/oeuvres/1` : null
const previousPage = currentPage > 1 ? `${basePath}fr/oeuvres/${currentPage - 1}` : null
const nextPage = currentPage < totalPages ? `${basePath}fr/oeuvres/${currentPage + 1}` : null
const lastPage = currentPage < totalPages ? `${basePath}fr/oeuvres/${totalPages}` : null

const artwork = {
  title: 'Mi papá y el hombre del paquete 10 vignettes, 46 x 46 cm chacune, noir et blanc',
  subtitle: 'Darién Sánchez',
  description: `Les vignettes de Darién Sánchez proposent des réflexions critiques sur des situations issues d’expériences de la vie quotidienne à Cuba. Dans Mon père et l’homme d’El Paquete, il s’intéresse à la distribution, au contenu et à la réception d’El Paquete Semanal (Le paquet hebdomadaire) à Cuba : une manière alternative de faire circuler l’information dans un contexte où l’accès à l’internet est encore complexe. Ce n’est que récemment que Cuba a connu une évolution vers un meilleur accès aux données mobiles permettant aux citoyens de publier et d’écouter des vidéos. C’est pourquoi le fait de disposer d’une connexion Wi-Fi à domicile et d’un compte Netflix est encore considéré comme un privilège, et le piratage est devenu une pratique naturalisée sur l’île.

Racontées du point de vue de la famille de l’artiste, ces histoires reflètent le déséquilibre croissant des pouvoirs et les défis posés par le fossé numérique dans la Cuba contemporaine. La nature intermédiale de Mi papá y el hombre del paquete relie la vignette Instagram aux films et séries télévisées contemporains. L’humour est un outil politique dans le travail de l’artiste, et l’espace domestique représente souvent des conflits entre différentes générations vivant dans un pays changé où l’utopie de la révolution a évolué de manière spectaculaire.

Designer, animateur et artiste visuel, Sánchez utilise Instagram comme principale plateforme pour promouvoir sa pratique créatrice. Son contenu numérique est également disponible sur des réseaux tels que Giphy et Canva.

@dariensanchez_ giphy.com/darienson canva.com/p/dariensan/`,
  images: [
    `${basePath}/assets/img/mi-papa-y-el-hombre-del-paquete/1.png`,
    `${basePath}/assets/img/mi-papa-y-el-hombre-del-paquete/2.png`,
    `${basePath}/assets/img/mi-papa-y-el-hombre-del-paquete/3.png`,
    `${basePath}/assets/img/mi-papa-y-el-hombre-del-paquete/4.png`,
    `${basePath}/assets/img/mi-papa-y-el-hombre-del-paquete/5.png`,
    `${basePath}/assets/img/mi-papa-y-el-hombre-del-paquete/6.png`,
    `${basePath}/assets/img/mi-papa-y-el-hombre-del-paquete/7.png`,
    `${basePath}/assets/img/mi-papa-y-el-hombre-del-paquete/8.png`,
    `${basePath}/assets/img/mi-papa-y-el-hombre-del-paquete/9.png`,
    `${basePath}/assets/img/mi-papa-y-el-hombre-del-paquete/10.png`,
  ],
}
---

<DefaultLayout title={artwork.title}>
  <section class="mb-8 mt-16">
    <div class="container mx-auto flex gap-8">
      <!-- Left Half: Image Gallery (PhotoSwipe Gallery) -->
      <div class="flex-1 p-8">
        <PhotoSwipeGallery images={artwork.images} columns={galleryColumns} />
      </div>

      <!-- Right Half: Text Content -->
      <div class="flex-1 p-8">
        <div>
          <h1 class="mb-4 text-4xl font-bold">{artwork.title}</h1>
          <h3 class="mb-4 text-2xl font-semibold text-gray-400">{artwork.subtitle}</h3>
          <div class="whitespace-pre-wrap text-xl" set:html={artwork.description} />
        </div>
      </div>
    </div>
  </section>

  <!-- Pagination -->
  <div class="mt-4 grid place-content-center">
    <Pagination
      firstPage={firstPage}
      previousPage={previousPage}
      nextPage={nextPage}
      lastPage={lastPage}
      currentPage={currentPage}
      totalPages={totalPages}
    />
  </div>

  <div class="container">
    <div class="call-to-action mb-8 mt-8 flex flex-col items-center rounded-lg">
      <a
        href=`${import.meta.env.BASE_URL}fr/start`
        class="call-to-action-link rounded-lg p-4 text-center text-lg md:p-6"
      >
        Retourner au début de la visite</a
      >
    </div>
  </div>
</DefaultLayout>
